<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Async Await</title>
</head>
<body>
    <h1>Load data using Async Await</h1>
    <ul id="list-container"></ul>
    <script>
         const listContainer = document.getElementById("list-container");
         // Manually add promise
         async function greetings(name){
             return 'Have a good day, '+name;
         }
         const greeting=greetings('Jalal');
         greeting.then(res=>console.log(res));

         // Load the data using async await
         async function loadData(){
            const response=await fetch("https://jsonplaceholder.typicode.com/users"); //wait until get response
            const data=await response.json(); //wait until convert to json
            return data;
         }
         loadData()
         .then(data=>{
             console.log(data);
             displayData(data);
            })
         .catch(error=>console.log(error));

         function displayData(data){
            users = data.map((user) => {
                const li = document.createElement("li");
                li.innerText = user.username;
                listContainer.appendChild(li);
            });
         }
    </script>
</body>
</html>